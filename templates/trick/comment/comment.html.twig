<div class="comments">

    {# Comments count#}
    {% if commentsPaginator.itemsCount > 1 %}
        <p id="comments-count">{{ commentsPaginator.itemsCount }} commentaires</p>
    {% else %}
        <p id="comments-count">{{ commentsPaginator.itemsCount }} commentaire</p>
    {% endif %}

    {# Comments #}
    {% for comment in comments %}
        <div class="comment">
            <div class="comment-author">
                <figure class="comment-author-picture">
                    <img src="{{ comment.getAuthor().picture.url ?? constant("App\\Entity\\Member::DEFAULT_PICTURE_URL") }}" alt="Photo de {{ comment.getAuthor().name ?? "Ancien membre" }}">
                    <figcaption class="comment-author-name">{{ comment.getAuthor().name ?? "Ancien membre" }}</figcaption>
                </figure>
            </div>
            <div class="comment-content-wrapper">
                <div class="comment-meta">{{ comment.createdAt|date('d/m/Y Ã  h:m') }}</div>
                <div class="comment-tools-wrapper">
                    <a class="command" href="{{ path("edit_trick", {"id": trick.id}) }}">ðŸ–‰</a>
                    <a class="command" href="{{ path("delete_comment", {"id": comment.id, "commentsPage": commentsPaginator.currentPage}) }}">ðŸ—‘</a>
                </div>
                <div class="comment-content">{{ comment.content|striptags("<p><br><ul><li><strong><em>")|raw }}</div>
            </div>
        </div>
    {% endfor %}

    {# Pagination links #}
    {% if commentsPaginator.pagesCount > 1 %}
        <div class="comments-pagination">
            {% if commentsPaginator.currentPage > 1 %}
                <div class="comments-pagination-part">
                    <a class="btn btn-secondary" href="{{ path("trick_show", {"id": trick.id, "commentsPage": commentsPaginator.currentPage - 1}) }}#trick-comments">ðŸ¡„</a>
                </div>
            {% endif %}
            {% if commentsPaginator.currentPage < commentsPaginator.pagesCount %}
                <div class="comments-pagination-part">
                    <a class="btn btn-secondary" href="{{ path("trick_show", {"id": trick.id, "commentsPage": commentsPaginator.currentPage + 1}) }}#trick-comments">ðŸ¡†</a>
                </div>
            {% endif %}
            <div class="comments-pagination-part">
                <span class="comments-pagination-pages">{{ commentsPaginator.currentPage }} / {{ commentsPaginator.pagesCount }}</span>
            </div>
        </div>
    {% endif %}
</div>